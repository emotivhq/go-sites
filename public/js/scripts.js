function scrollHoverGallery(e){var t=$(e).find("li.active").next();0===t.length&&(t=$(e).find("li:first-child")),$(e).find("li.active").removeClass("active"),t.addClass("active")}function fixedHeader(){if($(window).scrollTop()<$(".fixed-header").outerHeight()){var e=$(window).scrollTop();$(".fixed-header").css(0>e?{transform:"translateY(0px)"}:{transform:"translateY("+e/1.2+"px)"})}}function parallaxBackground(){$(".parallax").each(function(){var e=$(this).closest("section"),t=$(window).scrollTop(),i=t+$(window).height(),a=e.offset().top,n=a+e.outerHeight();if(i>a&&n>t){var o=(i-a)/5;$(e).find(".parallax").css({transform:"translateY("+o+"px)"})}})}$(document).ready(function(){"use strict";function e(e){var t,i;return $(e).find('.validate-required[type="checkbox"]').each(function(){$('[name="'+$(this).attr("name")+'"]:checked').length||(i=1,t=$(this).attr("name").replace("[]",""),e.find(".form-error").text("Please tick at least one "+t+" box."))}),$(e).find(".validate-required").each(function(){""===$(this).val()?($(this).addClass("field-error"),i=1):$(this).removeClass("field-error")}),$(e).find(".validate-email").each(function(){/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())?$(this).removeClass("field-error"):($(this).addClass("field-error"),i=1)}),e.find(".field-error").length||e.find(".form-error").fadeOut(1e3),i}var t;$(".inner-link").smoothScroll({offset:-59,speed:800}),$("nav").hasClass("overlay")||$(".nav-container").css("min-height",$("nav").outerHeight()),$("nav").hasClass("dark")&&($(".nav-container").addClass("dark"),$(".main-container").find("section:nth-of-type(1)").css("outline","40px solid #222")),$(window).scroll(function(){$(window).scrollTop()>0?$("nav").addClass("fixed"):$("nav").removeClass("fixed"),$(window).scrollTop()>$("nav").outerHeight()?$("nav").addClass("shrink"):$("nav").removeClass("shrink")}),$(".mobile-toggle").click(function(){$(this).closest("nav").toggleClass("nav-open"),$(this).closest("nav").hasClass("nav-3")&&$(this).toggleClass("active")}),parallaxBackground(),$(window).scroll(function(){requestAnimationFrame(parallaxBackground)}),/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)||$(window).scroll(function(){requestAnimationFrame(fixedHeader)}),$(".hero-slider").flexslider({directionNav:!1}),$(".slider").flexslider({directionNav:!1}),$(".background-image-holder").each(function(){var e=$(this).children("img").attr("src");$(this).css("background",'url("'+e+'")'),$(this).children("img").hide(),$(this).css("background-position","50% 50%")}),setTimeout(function(){$(".background-image-holder").each(function(){$(this).addClass("fadeIn")})},200),$(".local-video-container .play-button").click(function(){$(this).toggleClass("video-playing"),$(this).closest(".local-video-container").find(".background-image-holder").toggleClass("fadeout");var e=$(this).closest(".local-video-container").find("video");e.get(0).paused===!0?e.get(0).play():e.get(0).pause()}),$("video").bind("pause",function(){var e=this;t=setTimeout(function(){$(e).closest("section").find(".play-button").toggleClass("video-playing"),$(e).closest(".local-video-container").find(".background-image-holder").toggleClass("fadeout"),$(e).closest(".modal-video-container").find(".modal-video").toggleClass("reveal-modal")},100)}),$("video").on("play",function(){"number"==typeof t&&clearTimeout(t)}),$("video").on("seeking",function(){"number"==typeof t&&clearTimeout(t)}),$(".modal-video-container .play-button").click(function(){$(this).toggleClass("video-playing"),$(this).closest(".modal-video-container").find(".modal-video").toggleClass("reveal-modal"),$(this).closest(".modal-video-container").find("video").get(0).play()}),$(".modal-video-container .modal-video").click(function(e){var t=e.target;$(t).hasClass("modal-video")&&$(this).find("video").get(0).pause()}),$(".hover-gallery").each(function(){var e=$(this),t=setInterval(function(){scrollHoverGallery(e)},$(this).closest(".hover-gallery").attr("speed"));$(this).closest(".hover-gallery").attr("timerId",t),$(this).find("li").bind("hover, mouseover, mouseenter, click",function(e){e.stopPropagation(),clearInterval(t)})}),$(".hover-gallery li").mouseenter(function(){clearInterval($(this).closest(".hover-gallery[timerId]").attr("timerId")),$(this).parent().find("li.active").removeClass("active"),$(this).addClass("active")}),$(".pricing-option").mouseenter(function(){$(this).closest(".pricing").find(".pricing-option").removeClass("active"),$(this).addClass("active")}),$(".map-toggle .switch").click(function(){$(this).closest(".contact").toggleClass("toggle-active"),$(this).toggleClass("toggle-active")}),$(".tweets-feed").each(function(e){$(this).attr("id","tweets-"+e)}).each(function(e){function t(t){for(var i=t.length,a=0,n=document.getElementById("tweets-"+e),o='<ul class="slides">';i>a;)o+="<li>"+t[a]+"</li>",a++;return o+="</ul>",n.innerHTML=o,o}twitterFetcher.fetch($("#tweets-"+e).attr("data-widget-id"),"",5,!0,!0,!0,"",!1,t)}),jQuery.fn.spectragram.accessData={accessToken:"1406933036.fedaafa.feec3d50f5194ce5b705a1f11a107e0b",clientID:"fedaafacf224447e8aef74872d3820a1"},$(".instafeed").each(function(){$(this).children("ul").spectragram("getUserFeed",{query:$(this).attr("data-user-name")})}),$(".tabbed-content").each(function(){$(this).append('<ul class="content"></ul>')}),$(".tabs li").each(function(){var e=$(this),t="";e.is(".tabs li:first-child")&&(t=' class="active"');var i=e.find(".tab-content").detach().wrap("<li"+t+"></li>").parent();e.closest(".tabbed-content").find(".content").append(i)}),$(".tabs li").click(function(){$(this).closest(".tabs").find("li").removeClass("active"),$(this).addClass("active");var e=$(this).index()+1;$(this).closest(".tabbed-content").find(".content li").removeClass("active"),$(this).closest(".tabbed-content").find(".content li:nth-child("+e+")").addClass("active")}),$("form.form-email").submit(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var i,a,n,o,s,r,l=$(this).closest("form.form-email"),d=0,c=l.attr("original-error");return a=$(l).find("iframe.mail-list-form"),a.length&&"undefined"!=typeof a.attr("srcdoc")&&""!==a.attr("srcdoc")?(console.log("Mail list form signup detected."),n=$(l).find(".signup-email-field").val(),o=$(l).find(".signup-name-field").val(),s=$(l).find(".signup-first-name-field").val(),r=$(l).find(".signup-last-name-field").val(),1!==e(l)&&(console.log("Mail list signup form validation passed."),console.log(n),console.log(r),console.log(s),console.log(o),a.contents().find("#mce-EMAIL, #fieldEmail").val(n),a.contents().find("#mce-LNAME, #fieldLastName").val(r),a.contents().find("#mce-FNAME, #fieldFirstName").val(s),a.contents().find("#mce-FNAME, #fieldName").val(o),a.contents().find("form").attr("target","_blank").submit())):(console.log("Send email form detected."),"undefined"!=typeof c&&c!==!1&&l.find(".form-error").text(c),d=e(l),1===d?($(this).closest("form").find(".form-error").fadeIn(200),setTimeout(function(){$(l).find(".form-error").fadeOut(500)},3e3)):($(this).closest("form").find(".form-error").fadeOut(200),i=jQuery("<div />").addClass("form-loading").insertAfter($(l).find('input[type="submit"]')),$(l).find('input[type="submit"]').hide(),jQuery.ajax({type:"POST",url:"mail/mail.php",data:l.serialize(),success:function(e){$(l).find(".form-loading").remove(),$(l).find('input[type="submit"]').show(),$.isNumeric(e)?parseInt(e)>0&&(l.find(".form-success").fadeIn(1e3),l.find(".form-error").fadeOut(1e3),setTimeout(function(){l.find(".form-success").fadeOut(500)},5e3)):(l.find(".form-error").attr("original-error",l.find(".form-error").text()),l.find(".form-error").text(e).fadeIn(1e3),l.find(".form-success").fadeOut(1e3))},error:function(e,t,i){l.find(".form-error").attr("original-error",l.find(".form-error").text()),l.find(".form-error").text(i).fadeIn(1e3),l.find(".form-success").fadeOut(1e3),$(l).find(".form-loading").remove(),$(l).find('input[type="submit"]').show()}}))),!1}),$(".validate-required, .validate-email").on("blur change",function(){e($(this).closest("form"))}),$("form").each(function(){$(this).find(".form-error").length&&$(this).attr("original-error",$(this).find(".form-error").text())}),$(".screen").click(function(){$(this).removeClass("screen")}),$(window).scroll(function(){$(".contact-2 .map-holder").addClass("screen")})}),$(window).load(function(){"use strict";var e=setInterval(function(){return $(".tweets-slider").find("li.flex-active-slide").length?void clearInterval(e):void($(".tweets-slider").length&&$(".tweets-slider").flexslider({directionNav:!1,controlNav:!1}))},500),t=setInterval(function(){return $(".instafeed li").hasClass("bg-added")?void clearInterval(t):($(".instafeed li").each(function(){var e=$(this).find("img").attr("src");$(this).css("background",'url("'+e+'")'),$(this).find("img").css("opacity",0),$(this).css("background-position","50% 0%"),$(this).addClass("bg-added")}),void $(".instafeed").addClass("fadeIn"))},500)});